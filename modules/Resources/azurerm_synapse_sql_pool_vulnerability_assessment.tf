resource "azurerm_synapse_sql_pool_vulnerability_assessment" "euclid" {
  sql_pool_security_alert_policy_id = azurerm_synapse_sql_pool_security_alert_policy.euclid.id
  storage_container_path            = ${azurerm_storage_account.euclid.primary_blob_endpoint}${azurerm_storage_container.euclid.name}/
  storage_account_access_key        = azurerm_storage_account.euclid.primary_access_key

  recurring_scans {
    enabled                           = var.azurerm_synapse_sql_pool_vulnerability_assessment-recurring_scans_enabled
    email_subscription_admins_enabled = var.azurerm_synapse_sql_pool_vulnerability_assessment-recurring_scans_email_subscription_admins_enabled
    emails = var.azurerm_synapse_sql_pool_vulnerability_assessment-recurring_scans_emails
  }
}